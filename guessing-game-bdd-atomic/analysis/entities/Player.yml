name: Player
description: "玩家實體，代表參與 1A2B 遊戲的玩家"
primary_key: 
  - id
properties:
  id:
    type: int
    description: "玩家在遊戲中的角色 ID"
    example: 1
    constraints:
      - "positive"
  role:
    type: string
    description: "玩家在遊戲中的角色"
    enum:
      - "P1"    # 第一個加入遊戲的玩家
      - "P2"    # 第二個加入遊戲的玩家
    example: "P1"
  name:
    type: string
    description: "玩家的顯示名稱"
    example: "Johnny"
    aliases: ["playerName"]
    constraints:
      - "not blank"
      - "length between 1 and 20"
  secret:
    type: string
    description: "玩家設定的4位秘密數字"
    example: "1234"
    nullable: true
    constraints:
      - "每個數字不能重複"
    pattern: "^[0-9]{4}$"
invariants:
  - game.status == "Waiting for player" => secret == null
  - game.status ∈ {"Guessing", "Ended"} => secret != null